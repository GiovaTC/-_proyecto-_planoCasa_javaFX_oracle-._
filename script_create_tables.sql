-- Crear esquema simple para casas y habitaciones
CREATE TABLE HOUSES (
  ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
  NAME VARCHAR2(200) NOT NULL,
  ADDRESS VARCHAR2(400),
  CREATED_AT TIMESTAMP DEFAULT SYSTIMESTAMP
);

CREATE TABLE ROOMS (
  ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
  HOUSE_ID NUMBER NOT NULL,
  NAME VARCHAR2(200) NOT NULL,
  X NUMBER NOT NULL, -- posición X en el plano (pixeles relativos)
  Y NUMBER NOT NULL, -- posición Y
  WIDTH NUMBER NOT NULL,
  HEIGHT NUMBER NOT NULL,
  AREA NUMBER,
  CONSTRAINT FK_ROOM_HOUSE FOREIGN KEY (HOUSE_ID) REFERENCES HOUSES(ID) ON DELETE CASCADE
);

-- Inserts de ejemplo
INSERT INTO HOUSES (NAME, ADDRESS) VALUES ('Casa Modelo A', 'Calle Falsa 123');

-- Suponer que la ID generada sea 1, si no, consulta la id después del insert
INSERT INTO ROOMS (HOUSE_ID, NAME, X, Y, WIDTH, HEIGHT, AREA) VALUES (1, 'Sala', 20, 20, 300, 200, 60);
INSERT INTO ROOMS (HOUSE_ID, NAME, X, Y, WIDTH, HEIGHT, AREA) VALUES (1, 'Cocina', 340, 20, 200, 150, 30);
INSERT INTO ROOMS (HOUSE_ID, NAME, X, Y, WIDTH, HEIGHT, AREA) VALUES (1, 'Dormitorio', 20, 240, 260, 180, 46.8);
COMMIT;

